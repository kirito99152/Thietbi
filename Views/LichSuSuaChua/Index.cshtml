@model IEnumerable<Thietbi.Models.TbLichSuSuaChua>

@{
    ViewData["Title"] = "Index";
}


<div class="container mt-4">
    <!-- Card chính bao toàn bộ -->
    <div class="card shadow-lg">
        <div class="card-header bg-primary text-white">
            <h2 class="text-center mb-0 fw-bold">LỊCH SỬ SỬA CHỮA</h2>
        </div>

        <div class="card-body">
            <!-- Bảng -->
            <div class="table-responsive">
                <table id="ntable" class="table table-bordered table-striped align-middle">
                    <thead class="bg-light">
                        <tr class="text-center">
                            <th>STT</th>
                                <th>
                                    ID NGƯỜI BÁO
                                </th>
                                <th>
                                    ID ĐƠN VỊ BÁO
                                </th>
                                 <th>
                                   ID CÁN BỘ SỬA CHỮA
                                 </th>
                                <th>
                                 ID ĐƠN VỊ SỬA CHỮA
                                </th>
                                <th>
                                 THỜI GIAN BẮT ĐẦU
                                </th>
                                <th>
                                 THỜI GIAN KẾT THÚC
                                </th>
                                <th>
                                HIỆN TƯỢNG
                                 </th>
                                 <th>
                                 NGUYÊN NHÂN XÁC ĐỊNH
                                 </th>
                                <th>
                                 KẾT QUẢ SỬA CHỮA
                                 </th>
                                 <th>
                                 THÔNG TIN SỬA CHỮA
                                 </th>
                                <th>
                                CÁCH SỬA
                                 </th>
                                <th>
                                THIẾT BỊ
                                 </th>
        <th></th>
        </tr>
        </thead>
       <tbody>
               @if (Model != null && Model.Any())
                        {
                            int stt = 0;
                            foreach (var item in Model)
                            {
                                <tr>
                                    <td class="text-center">@(++stt)</td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdNguoiBao)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdDonViBao)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdCanBoSua)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdDonViSua)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ThoiGianBatDau)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ThoiGianKetThuc)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.HienTuong)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NguyenNhanXacDinh)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.KetQuaSua)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ThongTinSuaChua)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CachSua)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IdThietBiNavigation.TenThietBi)
                    </td>
                    <td class="text-center">
                        <div class="btn-group" role="group">
                            <a asp-action="Edit" asp-route-id="@item.IdLichSuSuaChua" class="btn btn-sm btn-primary">
                                <i class="bi bi-pencil-square"></i> Sửa
                            </a>
                            <a asp-action="Details" asp-route-id="@item.IdLichSuSuaChua" class="btn btn-sm btn-info">
                                <i class="bi bi-info-circle"></i> Chi Tiết
                            </a>
                            <a asp-action="Delete" asp-route-id="@item.IdLichSuSuaChua" class="btn btn-sm btn-danger">
                                <i class="bi bi-trash"></i> Xóa
                            </a>
                        </div>
                    </td>
                </tr>
            }
                        }
                        else
                        {
                            <tr>
                                <td colspan="9" class="text-center text-muted">
                                    Không có dữ liệu để hiển thị.
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<!-- CSS tùy chỉnh -->
<style>
    body {
        background-color: #f7f9fc; /* Nền dịu nhẹ */
    }

    .card {
        border-radius: 15px; /* Bo tròn góc */
        overflow: hidden;
    }

    .card-header {
        font-size: 1.5rem; /* Tiêu đề lớn */
        text-transform: uppercase; /* Chữ in hoa */
    }

    .table {
        border-radius: 10px; /* Bo tròn bảng */
        overflow: hidden;
    }

        .table thead th {
            text-transform: uppercase; /* Chữ in hoa trong header */
            font-weight: bold;
        }

        .table tbody tr:hover {
            background-color: #eef3f7; /* Hiệu ứng hover */
        }

    .btn {
        font-size: 0.9rem; /* Kích thước nút */
    }
</style>

    <script>

        new DataTable('#ntable', {
            searching: true, // Mặc định là true, set false để tắt chức năng search
            info: true, // Tắt thông tin về table VD: Showing 1 to 14 of 14 entries
            language: {
                search: "Tìm kiếm",
                lengthMenu: "Điều chỉnh số lượng bản ghi trên 1 trang _MENU_ ",
                info: "Tổng cộng _TOTAL_ bản ghi",
                zeroRecords: "không tìm thấy kết quả phù hợp",
                emptyTable: "Không có dữ liệu",
                paginate: {
                    first: "Trang đầu",
                    previous: "Trang trước",
                    next: "Trang sau",
                    last: "Trang cuối"
                },
            },
        });
    </script>
